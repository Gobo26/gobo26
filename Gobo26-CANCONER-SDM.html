<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cançoner del grup d'havaneres SONS DEL MAR Unificat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f1f5f9;
            color: #2d3748;
        }
        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
        }
        .lyrics {
            font-family: 'Merriweather', serif;
            line-height: 1.6; /* Una mica més junt per aprofitar espai */
            white-space: pre-wrap;
        }
        .card {
            transition: transform 0.2s ease-in-out;
            scroll-margin-top: 10px; 
        }
        .card:hover {
            transform: translateY(-2px);
        }
    
/* HEADER */
header{width:100%;background:#1e293b;border-bottom:1px solid #334155;padding:10px 16px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50;}
.logo{display:flex;align-items:center;gap:8px;text-decoration:none;}
.logo-txt{font-size:1rem;font-weight:900;color:white;letter-spacing:-0.5px;}
.logo-txt span{color:#3b82f6;}
.hdr-title{font-size:.95rem;font-weight:700;color:white;letter-spacing:.5px;}
</style>


</head>
<body class="bg-slate-100">

    <header>
    <a href="https://ja.cat/appgobo" class="logo">
        <svg width="38" height="38" viewBox="0 0 40 40" fill="none">
            <polygon points="20,2 36,11 36,29 20,38 4,29 4,11" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-family="Montserrat,sans-serif" font-size="8" font-weight="900">GOBO</text>
            <text x="50%" y="72%" dominant-baseline="middle" text-anchor="middle" fill="#3b82f6" font-family="Montserrat,sans-serif" font-size="7" font-weight="900">26</text>
        </svg>
        <span class="logo-txt">GOBO<span>26</span></span>
    </a>
    <span class="hdr-title">Cançoner d'Havaneres</span>
</header>

    <main class="container mx-auto px-2 py-4 md:px-4 md:py-6">
        
        <div id="indexContainer" class="mb-6 p-4 bg-white rounded-lg shadow-md">
            <h2 class="text-lg md:text-xl font-bold text-blue-800 mb-3 border-b pb-2">Índex de Cançons</h2>
            <ul id="songIndex" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1">
                </ul>
        </div>

        <div id="songsContainer" class="grid grid-cols-1 gap-4 md:gap-6 max-w-4xl mx-auto">
            </div>

        <div id="noResults" class="hidden text-center py-10 text-gray-500 text-lg">
            No s'han trobat cançons.
        </div>

    </main>

    <footer style="font-size:.72rem;color:#94a3b8;font-weight:600;text-align:center;padding:16px;margin-top:auto;border-top:1px solid #1e2d45;">
    <a href="https://ja.cat/appgobo"
       style="display:inline-flex;align-items:center;gap:6px;opacity:0.4;transition:opacity 0.2s;color:#94a3b8;text-decoration:none;"
       onmouseover="this.style.opacity=0.8" onmouseout="this.style.opacity=0.4">
        <svg width="13" height="13" viewBox="0 0 100 100" fill="none"><polygon points="50,2 93,26 93,74 50,98 7,74 7,26" fill="#94a3b8"/><text x="50" y="44" text-anchor="middle" fill="white" font-size="26" font-weight="800" font-family="sans-serif">G</text><text x="50" y="68" text-anchor="middle" fill="#1e293b" font-size="22" font-weight="700" font-family="sans-serif">26</text></svg>
        Una aplicació de Gobo26
    </a>
</footer>

    <script>
        // Funció per moure's a una cançó sense canviar la URL
        function anarACanco(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Funció per tornar a l'índex sense canviar la URL
        function anarAIndex() {
            const element = document.getElementById('indexContainer');
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        const songs = [
            
            {
                title: "El canó de Palamós",
                author: "Josep Lluís Ortega Monasterio",
                lyrics: `El canó de Palamós,
ben mirat que n'és d'hermós,
ja fa temps que està callat,
ja fa temps que mira el mar
amb el ventre rovellat,
quatre rodes i un forat.

De la boca del canó,
només surten els records
de les guerres d'aquell temps,
quan la gent de l'Empordà,
de la Selva i del Vallès
es mataven per no res.

Escolteu la seva veu,
oh, canons de tot el món
i la gent de tot arreu,
no més guerres ni més morts,
no més bombes ni més foc,
sóc el canó de Palamós.`
            },
            {
                title: "El capità",
                author: "Carles Casanovas / Antoni Mas",
                lyrics: `Quan naveguis de bolina,
sota el grop orsant la nau.
Quan la boira sigui espessa
i el redós quedi llunyà.

Quan terregis entre lloses,
perquè el vent és massa fort.
Quan el cel no té resposta,
llavors sabràs el que costa
menar la nau fins a port.

Que senzill ser capità
quan el vent bufa de popa,
quan no hi ha esculls a tocar,
quan la pesca és generosa.
Que senzill ser capità
sota estrelles i a coberta,
tot singlant per mar oberta
i amb la lluna de costat.

Quan el far no et sigui guia
perquè no volen els déus.
Quan l'onada trenqui a sobre,
quan et costi estar dempeus.
Quan la mar brami gelosa
i tremoli tot el casc,
quan la força et sigui escassa,
llavors sabràs quina traça
li cal a un bon capità.

Quan la mar dorm encalmada,
quan Neptú fa migdiada,
jo també sóc capità.`
            },
            {
                title: "El meu avi",
                author: "J.L. Ortega Monasterio",
                lyrics: `El meu avi va anar a Cuba
a bordo del "Catalán",
el millor barco de guerra
de la flota d'Ultramar.
El timoner i el nostramo
i catorze mariners
eren nascuts a Calella,
eren nascuts a Palafrugell...

Quan el "Catalán" sortia a la mar,
els nois de Calella feien un cremat,
mans a la guitarra, solien cantar, solien cantar:
Visca Catalunya! Visca el "Catalán"!...

Arribaren temps de guerres,
de perfídies i traïcions
en el mar de les Antilles
retronaren els canons.
I el mariners de Calella,
el meu avi enmig de tots,
varen morir a coberta,
varen morir al peu del canó!

Quan el "Catalán" sortia a la mar,
cridava el meu avi: apa nois que és tard!
però els valents de bordo
no varen tornar, no varen tornar
tingueren la culpa els americans...`
            },
        ];

        const songsContainer = document.getElementById('songsContainer');
        const songIndex = document.getElementById('songIndex');
        const searchInput = document.getElementById('searchInput');
        const noResults = document.getElementById('noResults');

        function normalizeText(text) {
            return text.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }

        function renderSongs(filterText = "") {
            songsContainer.innerHTML = "";
            songIndex.innerHTML = "";
            
            const normalizedFilter = normalizeText(filterText);
            let hasResults = false;

            songs.forEach((song, index) => {
                const normalizedTitle = normalizeText(song.title);
                const normalizedLyrics = normalizeText(song.lyrics);
                
                if (normalizedTitle.includes(normalizedFilter) || normalizedLyrics.includes(normalizedFilter)) {
                    hasResults = true;
                    
                    // Create Index Link - Mida ajustada
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="#" onclick="anarACanco('song-${index}'); return false;" class="text-blue-600 text-sm md:text-base hover:text-blue-800 hover:underline block p-1">${song.title}</a>`;
                    songIndex.appendChild(li);

                    // Create Song Card - Amb menys padding i lletra ajustada
                    const card = document.createElement('article');
                    card.id = `song-${index}`;
                    card.className = "card bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200 scroll-mt-24";
                    
                    card.innerHTML = `
                        <div class="bg-blue-50 px-4 py-3 md:px-5 md:py-4 border-b border-blue-100 flex justify-between items-center">
                            <div>
                                <h2 class="text-lg md:text-xl font-bold text-blue-900">${song.title}</h2>
                                <p class="text-xs md:text-sm text-gray-600 italic mt-0.5">${song.author}</p>
                            </div>
                            <a href="#" onclick="anarAIndex(); return false;" class="text-[10px] md:text-xs text-blue-500 hover:text-blue-700 bg-white px-2 py-1 rounded border border-blue-200 uppercase font-semibold">↑ Índex</a>
                        </div>
                        <div class="p-4 md:p-5">
                            <div class="lyrics text-sm md:text-base text-gray-800">${song.lyrics}</div>
                        </div>
                    `;
                    songsContainer.appendChild(card);
                }
            });

            if (hasResults) {
                noResults.classList.add('hidden');
            } else {
                noResults.classList.remove('hidden');
            }
        }

        searchInput.addEventListener('input', (e) => {
            renderSongs(e.target.value);
        });

        // Initial render
        renderSongs();

    </script>
</body>
</html>